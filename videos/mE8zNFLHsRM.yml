# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata

tags:
    - storage
    - redis
    - performance
title: '#HITB2018AMS D2T2 - Mallet: Towards a Generic Intercepting Proxy - Rogan Dawes'
recordingDate: 1524904712
description: "There have been many attempts at making a generic intercepting proxy. Few have actually gained any traction, and become pervasively useful. This may be for many reasons, but I believe that amongst them are the following:\n\n    It is too difficult to understand what the tool is doing at a low levelI\n    t is too difficult to customise the tool to focus on your specific need\n    Trying to wedge a TCP connection into an HTTP proxy (e.g. Burp extensions for TCP proxying)\n    Existing tools have fallen out of maintenance (possibly due to lack of uptake!)\n\nIn this talk, I will focus on a new open-source intercepting proxy named Mallet, based on the mature and high-performance Netty framework, that wraps it with a drag and drop graph-based graphical user interface and a datastore. In doing so, we gain access to an existing library of protocol implementations, including TLS (and SNI), various compression algorithms, HTTP, HTTP/2, MQTT, REDIS, and many others, and most important, an existing community of developers creating new protocol decoders and encoders, and the associated body of knowledge in this area.\n\nThe Mallet user interface closely follows the Netty model, making it simple to construct a pipeline of encoders and decoders by dragging existing codecs, or adding your own codecs or script blocks to a palette, taking the researcher from a simple TCP intercept-and-forward proxy, to a full-blown protocol stack with scriptable processing, with every change being recorded for review and replay in a subsequent connection.\n\nOne of the biggest challenges of an arbitrary proxy is dealing with timeouts. Mallet addresses this by making it easy to script the modifications desired, reducing the necessity to hold a message for manual modifications. Of course, if the protocol is not subject to short timeouts, manual editing is entirely possible.\n\nAs Netty supports a variety of transports, from the common TCP and UDP to SCTP, Serial Port and File, as well as native kqueue and epoll transports, Mallet can be used to intercept all sorts of data, however you may find it.\n\nA significantly updated tool will be released at HITB2018AMS that I have been working on in private since the last public update.\n\n===\n\nRogan Dawes is a senior researcher at SensePost and has been hacking since 1998, which, coincidentally, is also the time he settled on a final wardrobe. He used the time he saved on choosing outfits to live up to his colleagueâ€™s frequent joke that he has an offline copy of the Internet in his head. Rogan spent many years building web application assessment tools, and is credited as having built one of the first and most widely used intercepting proxies, WebScarab."
